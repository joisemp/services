{% extends 'sidebar_base.html' %}

{% block title %}Central Admin Dashboard{% endblock %}

{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'styles/dashboard/central_admin/style.css' %}">
{% endblock %}

{% block navbar %}
{% include 'navbar.html' %}
{% endblock %}

{% block sidebar %}
{% include 'central_admin/sidebar.html' %}
{% endblock %}

{% block content %}

<section id="header" class="mt-2">
  <div class="alert alert-notification alert-primary" role="alert">
    <h5>Welcome back Mello</h5>
    <p class="mb-0">Here's what's happening in your organization today.</p>
  </div>
</section>

<section id="stats" class="mt-4">
  <div style="width: 100%; height: 290px;"> <!-- wrapper controls height -->
    <canvas id="myChart"></canvas>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    const ctx = document.getElementById('myChart');

    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
        datasets: [
          {
            label: 'Sales 2024',
            data: [10, 20, 15, 25, 30, 28],
            borderColor: 'rgba(75, 192, 192, 1)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            fill: true,
            tension: 0.4
          },
          {
            label: 'Sales 2025',
            data: [12, 18, 22, 30, 26, 35],
            borderColor: 'rgba(255, 99, 132, 1)',
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            fill: true,
            tension: 0.4
          },
          {
            label: 'Target',
            data: [15, 15, 20, 25, 25, 30],
            borderColor: 'rgba(54, 162, 235, 1)',
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            fill: true,
            tension: 0.4
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false, // ðŸ”¹ lets us use the wrapper's height
        plugins: {
          legend: {
            position: 'top'
          }
        },
        scales: {
          y: { beginAtZero: true }
        }
      }
    });
  </script>
</section>

<section id="issue-card">
  <div class="title-recent-issues d-flex justify-content-between align-items-center mt-4">
    <h3 class="mb-1">Recent Issues</h3>
    <a href="#" class="btn btn-primary btn-sm d-flex justify-content-between align-items-center"><span>View
        All</span><span class="material-symbols-outlined ms-2" style="font-size: 12px;">arrow_forward_ios</span></a>
  </div>
  <div class="container-fluid mt-3">
    <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-2">
      <div class="col mt-2">
        <a href="#" class="text-decoration-none card-link-wrapper">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">Title</h5>
              <hr>
              <div class="d-flex justify-content-between mt-4">
                <h6 class="card-subtitle mb-2 text-body-secondary">Date</h6>
                <span class="badge badge text-bg-warning rounded-pill">Medium</span>
              </div>
              <div class="d-flex justify-content-between mt-4">
                <h6 class="card-text me-2">Reporter</h6>
                <h6 class="card-text ms-2">Status</h6>
              </div>
              <div class="d-flex justify-content-between">
                <h6 class="card-text text-body-secondary me-2">
                  John Doe
                </h6>
                <span class="badge badge text-bg-secondary rounded-pill d-flex align-items-center">Open</span>
              </div>
            </div>
          </div>
        </a>
      </div>
      <div class="col mt-2">
        <a href="#" class="text-decoration-none card-link-wrapper">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">Title</h5>
              <hr>
              <div class="d-flex justify-content-between mt-4">
                <h6 class="card-subtitle mb-2 text-body-secondary">Date</h6>
                <span class="badge badge text-bg-warning rounded-pill">Medium</span>
              </div>
              <div class="d-flex justify-content-between mt-4">
                <h6 class="card-text me-2">Reporter</h6>
                <h6 class="card-text ms-2">Status</h6>
              </div>
              <div class="d-flex justify-content-between">
                <h6 class="card-text text-body-secondary me-2">
                  John Doe
                </h6>
                <span class="badge badge text-bg-secondary rounded-pill d-flex align-items-center">Open</span>
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>
  </div>
</section>


{% endblock %}