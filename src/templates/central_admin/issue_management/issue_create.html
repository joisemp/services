{% extends 'sidebar_base.html' %}

{% load static %}

{% block title %}Issue Management{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'styles/issue_management/forms/style.css' %}">
<link rel="stylesheet" href="{% static 'styles/components/voice-recorder.css' %}">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
{% endblock %}

{% block navbar %}
{% include 'navbar.html' %}
{% endblock %}

{% block sidebar %}
{% include 'central_admin/sidebar.html' %}
{% endblock %}

{% block content %}
<div class="container-fluid">
  <h3>Create Issue</h3>
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="mb-3">
      <label for="{{ form.title.id_for_label }}" class="form-label">Title</label>
      {{ form.title }}
    </div>
    <div class="mb-3">
      <label for="{{ form.description.id_for_label }}" class="form-label">Description</label>
      {{ form.description }}
    </div>
    <div class="mb-3">
      <label for="{{ form.status.id_for_label }}" class="form-label">Status</label>
      {{ form.status }}
    </div>
    <div class="mb-3">
      <label for="{{ form.priority.id_for_label }}" class="form-label">Priority</label>
      {{ form.priority }}
    </div>
    <div class="mb-3">
      <label for="{{ form.org.id_for_label }}" class="form-label">Organization</label>
      {{ form.org }}
    </div>
    <div class="mb-3">
      <label for="{{ form.space.id_for_label }}" class="form-label">Space</label>
      {{ form.space }}
    </div>
    <div class="mb-3">
      <label class="form-label">Voice Recording (Optional)</label>
      <div id="voiceRecorderContainer">
        <!-- Voice recorder will be initialized here by JavaScript -->
      </div>
      {{ form.voice }}
    </div>
    <div class="d-flex">
      <button type="submit" class="btn btn-primary">Create Issue</button>
      <a href="{% url 'issue_management:central_admin:issue_list' %}" class="btn btn-secondary ms-2">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/components/voice-recorder.js' %}"></script>
{% endblock %}